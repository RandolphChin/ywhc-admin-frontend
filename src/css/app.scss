// app global css in SCSS form
@import './quasar.variables.scss';
@import './themes/modern-theme.scss';
@import './detail-edit-common.scss';

// Global styles for the application
body {
  font-family: 'Roboto', sans-serif;
}

// Custom application styles
.q-page {
  padding: 16px;
}

// **********针对 Firefox 浏览器正确显示图标垂直居中 BEGIN*****************
// ==============================================
// Material Icons 垂直对齐修复（跨浏览器兼容版本）
// ==============================================

// 1. 全局 Material Icons 基础修复
.material-icons {
  vertical-align: middle !important;
  line-height: 1 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  // Firefox 特殊处理
  @supports (-moz-appearance: none) {
    vertical-align: baseline !important;
    transform: translateY(0.125em) !important;
    line-height: 0.9 !important;
    margin-top: -0.05em !important;
  }
}

// 2. Quasar Icon 组件修复
.q-icon {
  vertical-align: middle !important;
  line-height: 1 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  &.material-icons {
    font-feature-settings: 'liga' 1;
  }

  // Firefox 特殊处理
  @supports (-moz-appearance: none) {
    vertical-align: baseline !important;
    transform: translateY(0.125em) !important;
    line-height: 0.9 !important;
    margin-top: -0.05em !important;
  }
}

// 3. 按钮中的图标修复
.q-btn {
  .q-icon,
  .material-icons {
    vertical-align: middle !important;
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;

    // Firefox 特殊处理
    @supports (-moz-appearance: none) {
      vertical-align: baseline !important;
      transform: translateY(0.125em) !important;
      line-height: 0.9 !important;
      margin-top: -0.05em !important;
    }
  }

  .q-btn__content {
    align-items: center !important;

    // Firefox 按钮内容对齐
    @supports (-moz-appearance: none) {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
  }
}

// 4. 分页组件图标修复
.q-pagination {
  .q-btn {
    .q-icon,
    .material-icons {
      vertical-align: middle !important;
      line-height: 1 !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;

      // Firefox 分页图标特殊处理
      @supports (-moz-appearance: none) {
        vertical-align: baseline !important;
        transform: translateY(0.1em) !important;
        line-height: 0.85 !important;
        margin-top: -0.03em !important;
      }
    }
  }

  // direction-links 和 boundary-links 特殊处理
  .q-btn--direction-link,
  .q-btn--boundary-link {
    .q-icon,
    .material-icons {
      @supports (-moz-appearance: none) {
        transform: translateY(0.12em) !important;
      }
    }
  }
}

// 5. 列表项图标修复
.q-item {
  .q-item__section--avatar {
    .q-icon,
    .material-icons {
      vertical-align: middle !important;
      line-height: 1 !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;

      @supports (-moz-appearance: none) {
        vertical-align: baseline !important;
        transform: translateY(0.125em) !important;
        line-height: 0.9 !important;
      }
    }
  }
}

// 6. 展开项图标修复
.q-expansion-item {
  .q-expansion-item__toggle-icon {
    .q-icon,
    .material-icons {
      vertical-align: middle !important;
      line-height: 1 !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;

      @supports (-moz-appearance: none) {
        vertical-align: baseline !important;
        transform: translateY(0.125em) !important;
        line-height: 0.9 !important;
      }
    }
  }
}

// 7. 通用修复 - 所有 Quasar 组件中的图标
[class*="q-"] {
  .q-icon,
  .material-icons {
    vertical-align: middle !important;
    line-height: 1 !important;

    @supports (-moz-appearance: none) {
      vertical-align: baseline !important;
      transform: translateY(0.125em) !important;
      line-height: 0.9 !important;
      margin-top: -0.05em !important;
    }
  }
}

// 8. 确保所有图标字体都应用相同的修复
[class*="material-icons"] {
  vertical-align: middle !important;
  line-height: 1 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-feature-settings: 'liga' 1;

  @supports (-moz-appearance: none) {
    vertical-align: baseline !important;
    transform: translateY(0.125em) !important;
    line-height: 0.9 !important;
    margin-top: -0.05em !important;
  }
}
// **********针对 Firefox 浏览器正确显示图标垂直居中 END*****************

// **********Ultra Compact Select Component 让下拉框更紧凑 BEGIN*****************
.ultra-compact-select {
  min-width: 40px !important;
  max-height: 24px !important;

  .q-field__control {
    min-height: 22px !important;
    height: 22px !important;
    padding: 0 6px !important;
    border-radius: 4px !important;
  }

  .q-field__native {
    min-height: 22px !important;
    height: 22px !important;
    padding: 0 !important;
    line-height: 22px !important;
    font-size: 12px !important;
  }

  .q-field__append {
    height: 22px !important;
    display: flex;
    align-items: center;
    padding-right: 2px !important;

    .q-icon {
      font-size: 16px !important;
    }
  }

  .q-field__outlined {
    .q-field__control {
      &:before {
        border-radius: 4px !important;
      }

      &:after {
        border-radius: 4px !important;
      }
    }
  }
}
// **********Ultra Compact Select Component 让下拉框更紧凑 END*****************

// *******************输入框边框强制都是实线 BEGIN*******************
// 时间范围的输入框边框是虚线，强制都是实线
.q-field--outlined .q-field__control {
  border: 1px solid rgba(0, 0, 0, 0.24) !important; // 强制实线边框
}

.q-field--outlined .q-field__control:before {
  border: none !important; // 移除可能的伪元素边框
}
// *******************输入框边框强制都是实线 END*******************

// *******************LoadingBar 进度条颜色自定义 BEGIN*******************
// 修改 Quasar LoadingBar 的颜色
.q-loading-bar {
  background: #4fc3f7 !important; // 改为蓝色，你可以修改为任何你想要的颜色
  // background: #667eea !important; // 紫色选项
  // background: #00f2fe !important; // 青色选项
  // background: #4facfe !important; // 浅蓝色选项
}
// *******************LoadingBar 进度条颜色自定义 END*******************

// ***********************q-page样式 BEGIN**********************************
.q-page-container .q-page {
  padding: 0px 2px;
}
// ***********************q-page样式 END**********************************

// ***********************q-table 紧凑型 Checkbox 样式 BEGIN**********************************
/*
 * Quasar q-table 紧凑型 Checkbox 样式
 * 使用方法：在 <q-table> 组件上添加 class="compact-checkbox-table"
 */

/* 第一部分：调整 Checkbox 列和其后一列的间距 */

/* 1. 选中 Checkbox 列本身 (表头和表体)，大幅减少其内边距 */
.compact-checkbox-table th.q-table--col-auto-width,
.compact-checkbox-table td.q-table--col-auto-width {
  /* 按需调整，这里只保留了左侧的一点边距 */
  padding: 0 0px 0 0px !important;
}

/* 2. 选中紧跟在 Checkbox 列后面的那一列，减少其左侧内边距，使其向左靠拢 */
.compact-checkbox-table th.q-table--col-auto-width + th,
.compact-checkbox-table td.q-table--col-auto-width + td {
  padding-left: 0px !important;
}


/* 第二部分：缩小 Checkbox 图标本身的尺寸 */

/* 3. 选中 Checkbox 列中的 .q-checkbox__inner 元素 */
.compact-checkbox-table .q-table--col-auto-width .q-checkbox .q-checkbox__inner {
  width: 0.8em !important;
  height: 0.8em !important;
  min-width: 0.8em !important;
}
// ***********************q-table 紧凑型 Checkbox 样式 END**********************************
// ***********************q-table 排序箭头方向 BEGIN**********************************
// 正常降序 样式<th class="text-right sortable sorted sort-desc" >
// 正常升序样式<th class="text-right sortable sorted" >
// 全局修正 Quasar Table 排序箭头方向，因为后端排序，导致排序箭头方向始终向上，但CSS是已正确的，UI箭头的视觉显示没有改变
.q-table {
  // 降序时箭头向下
  th.sort-desc .q-table__sort-icon {
    transform: rotate(180deg) !important;
  }
  
  // 升序时箭头向上（非 sort-desc 状态）
  th.sortable.sorted:not(.sort-desc) .q-table__sort-icon {
    transform: rotate(0deg) !important;
  }
  
  // 添加过渡动画让变化更流畅
  th .q-table__sort-icon {
    transition: transform 0.3s ease !important;
  }
}
// ***********************q-table 排序箭头方向 END**********************************
