/**
 * ---------------------------------------------------------------
 * ðŸ§© Fichier : src/i18n/checkTranslations.js
 * ðŸ“‹ Objectif : VÃ©rifie les diffÃ©rences de clÃ©s entre deux langues
 * ---------------------------------------------------------------
 *
 * Utilisation :
 *   node src/i18n/checkTranslations.js
 *
 * (peut aussi Ãªtre ajoutÃ© Ã  un script npm : "check:i18n")
 */

import fr from "./fr-FR";
import en from "./en-US";

/**
 * Compare les clÃ©s entre deux objets de langues
 */
function compareKeys(objA, objB, prefix = "") {
  const missing = [];

  for (const key in objA) {
    const fullKey = prefix ? `${prefix}.${key}` : key;

    if (typeof objA[key] === "object" && objA[key] !== null) {
      missing.push(...compareKeys(objA[key], objB[key] || {}, fullKey));
    } else if (!(key in objB)) {
      missing.push(fullKey);
    }
  }

  return missing;
}

// ðŸ” ClÃ©s prÃ©sentes en FR mais manquantes en EN
const missingInEN = compareKeys(fr, en);
if (missingInEN.length > 0) {
  console.log("âš ï¸ ClÃ©s manquantes dans en-US :");
  missingInEN.forEach((key) => console.log("  -", key));
} else {
  console.log("âœ… en-US est complet par rapport Ã  fr-FR");
}

// ðŸ” ClÃ©s prÃ©sentes en EN mais manquantes en FR
const missingInFR = compareKeys(en, fr);
if (missingInFR.length > 0) {
  console.log("âš ï¸ ClÃ©s manquantes dans fr-FR :");
  missingInFR.forEach((key) => console.log("  -", key));
} else {
  console.log("âœ… fr-FR est complet par rapport Ã  en-US");
}
